{"version":3,"file":"movie-block/index.js","mappings":"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AE;EAChCE,IAAI,EAAEhB,uCAAIA;AACX,CAAC,CAAC;;;;;;;;;;;ACTF;;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,qGAAqG,uFAAuF;UAC5L","sources":["webpack://movie-library/./inc/classes/block-editor/blocks/movie-block/components/MovieSelectorControl.js","webpack://movie-library/./inc/classes/block-editor/blocks/movie-block/components/SingleMovie.js","webpack://movie-library/./inc/classes/block-editor/blocks/movie-block/edit.js","webpack://movie-library/./inc/classes/block-editor/blocks/movie-block/index.js","webpack://movie-library/./inc/classes/block-editor/blocks/movie-block/editor.scss?4b8e","webpack://movie-library/./inc/classes/block-editor/blocks/movie-block/style.scss?f8bd","webpack://movie-library/external window [\"wp\",\"blockEditor\"]","webpack://movie-library/external window [\"wp\",\"blocks\"]","webpack://movie-library/external window [\"wp\",\"components\"]","webpack://movie-library/external window [\"wp\",\"coreData\"]","webpack://movie-library/external window [\"wp\",\"data\"]","webpack://movie-library/external window [\"wp\",\"element\"]","webpack://movie-library/external window [\"wp\",\"htmlEntities\"]","webpack://movie-library/external window [\"wp\",\"i18n\"]","webpack://movie-library/webpack/bootstrap","webpack://movie-library/webpack/runtime/chunk loaded","webpack://movie-library/webpack/runtime/compat get default export","webpack://movie-library/webpack/runtime/define property getters","webpack://movie-library/webpack/runtime/hasOwnProperty shorthand","webpack://movie-library/webpack/runtime/make namespace object","webpack://movie-library/webpack/runtime/jsonp chunk loading","webpack://movie-library/webpack/before-startup","webpack://movie-library/webpack/startup","webpack://movie-library/webpack/after-startup"],"sourcesContent":["import { store as coreDataStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { Spinner, ComboboxControl } from '@wordpress/components';\nimport { useState, useEffect } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Component for controlling the selection of a movie.\n *\n * This component renders a ComboboxControl to select a movie based on available\n * options retrieved from the WordPress database.\n *\n * @param {Object}   props          - The properties passed to the MovieSelectorControl component.\n * @param {number}   props.movie    - The ID of the selected movie.\n * @param {Function} props.setMovie - A function to set the selected movie.\n * @return {JSX.Element} JSX element representing the movie selector control.\n */\nexport default function MovieSelectorControl({ movie, setMovie }) {\n\tconst [options, setOptions] = useState([]);\n\tconst [filteredOptions, setFilteredOptions] = useState([]);\n\n\tconst { movies, haveMoviesResolved } = useSelect((select) => {\n\t\tconst query = {\n\t\t\tper_page: 100,\n\t\t\t_embed: true,\n\t\t};\n\t\tconst selectorArgs = ['postType', 'mlib-movie', query];\n\n\t\treturn {\n\t\t\tmovies: select(coreDataStore).getEntityRecords(...selectorArgs),\n\t\t\thaveMoviesResolved: select(coreDataStore).hasFinishedResolution(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tselectorArgs\n\t\t\t),\n\t\t};\n\t}, []);\n\n\t// Set up Movie options if resolved.\n\tuseEffect(() => {\n\t\tif (!haveMoviesResolved || !movies) {\n\t\t\treturn;\n\t\t}\n\t\tconst movieOptions = movies.map((currMovie) => ({\n\t\t\tlabel: decodeEntities(currMovie.title.rendered),\n\t\t\tvalue: currMovie.id,\n\t\t}));\n\t\tsetOptions([...movieOptions]);\n\t\tsetFilteredOptions([...movieOptions]);\n\t}, [haveMoviesResolved]);\n\n\treturn (\n\t\t<fieldset>\n\t\t\t<legend>{__('Select Movie', 'movie-library')}</legend>\n\t\t\t{haveMoviesResolved && movies ? (\n\t\t\t\t<ComboboxControl\n\t\t\t\t\tlabel={__('Movie', 'movie-library')}\n\t\t\t\t\tvalue={movie}\n\t\t\t\t\tonChange={setMovie}\n\t\t\t\t\toptions={filteredOptions}\n\t\t\t\t\tonFilterValueChange={(inputValue) =>\n\t\t\t\t\t\tsetFilteredOptions(\n\t\t\t\t\t\t\toptions.filter((option) =>\n\t\t\t\t\t\t\t\toption.label\n\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t.includes(inputValue.toLowerCase())\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Spinner />\n\t\t\t)}\n\t\t</fieldset>\n\t);\n}\n","import { store as coreDataStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Component for displaying a single movie item.\n *\n * This component displays details of a single movie item, including its title,\n * thumbnail, release date, director, and actors.\n *\n * @param {Object} props             - The properties passed to the SingleMovie component.\n * @param {string} props.title       - The title of the movie.\n * @param {string} props.thumbnail   - The URL of the movie's thumbnail image.\n * @param {string} props.releaseDate - The release date of the movie.\n * @param {Array}  props.directors   - An array of director IDs in the movie.\n * @param {Array}  props.actors      - An array of actor IDs in the movie.\n * @return {JSX.Element} JSX element representing a movie item.\n */\nexport default function SingleMovie({\n\ttitle,\n\tthumbnail,\n\treleaseDate,\n\tdirectors,\n\tactors,\n}) {\n\tconst [directorNames, setDirectorNames] = useState([]);\n\tconst [actorNames, setActorNames] = useState([]);\n\n\t// Select the information about the actors for the movie.\n\tconst { directorRecords, haveDirectorsResolved } = useSelect((select) => {\n\t\tlet directorIDs = [];\n\n\t\ttry {\n\t\t\tdirectorIDs = JSON.parse(directors);\n\t\t} catch (error) {}\n\n\t\tif (!Array.isArray(directorIDs)) {\n\t\t\treturn {\n\t\t\t\tdirectorRecords: [],\n\t\t\t\thaveDirectorsResolved: true,\n\t\t\t};\n\t\t}\n\n\t\tconst include = directorIDs.slice(0, 2);\n\n\t\tconst selectorArgs = ['postType', 'mlib-person', { include }];\n\t\treturn {\n\t\t\tdirectorRecords: select(coreDataStore).getEntityRecords(\n\t\t\t\t...selectorArgs\n\t\t\t),\n\t\t\thaveDirectorsResolved: select(coreDataStore).hasFinishedResolution(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tselectorArgs\n\t\t\t),\n\t\t};\n\t});\n\n\t// Select the information about the actors for the movie.\n\tconst { actorRecords, haveActorsResolved } = useSelect((select) => {\n\t\tlet actorIDs = [];\n\n\t\ttry {\n\t\t\tactorIDs = JSON.parse(actors);\n\t\t} catch (error) {}\n\n\t\tif (!Array.isArray(actorIDs)) {\n\t\t\treturn {\n\t\t\t\tactorRecords: [],\n\t\t\t\thaveActorsResolved: true,\n\t\t\t};\n\t\t}\n\n\t\tconst include = actorIDs.slice(0, 2);\n\n\t\tconst selectorArgs = ['postType', 'mlib-person', { include }];\n\t\treturn {\n\t\t\tactorRecords: select(coreDataStore).getEntityRecords(\n\t\t\t\t...selectorArgs\n\t\t\t),\n\t\t\thaveActorsResolved: select(coreDataStore).hasFinishedResolution(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tselectorArgs\n\t\t\t),\n\t\t};\n\t});\n\n\t// Set Director names if resolved.\n\tuseEffect(() => {\n\t\tif (!haveDirectorsResolved) {\n\t\t\treturn;\n\t\t}\n\t\tsetDirectorNames(\n\t\t\tdirectorRecords.map((director) =>\n\t\t\t\tdecodeEntities(director.title.rendered)\n\t\t\t)\n\t\t);\n\t}, [haveDirectorsResolved]);\n\n\t// Set actor names if resolved.\n\tuseEffect(() => {\n\t\tif (!haveActorsResolved) {\n\t\t\treturn;\n\t\t}\n\t\tsetActorNames(\n\t\t\tactorRecords.map((actor) => decodeEntities(actor.title.rendered))\n\t\t);\n\t}, [haveActorsResolved]);\n\n\treturn (\n\t\t<div className=\"movie-library-single-movie\">\n\t\t\t<img src={thumbnail} alt={title} />\n\t\t\t<p>{`${__('Title', 'movie-library')}: ${title}`}</p>\n\t\t\t<p>{`${__('Release Date', 'movie-library')}: ${releaseDate}`}</p>\n\t\t\t<p>{`${__('Director', 'movie-library')}: ${directorNames.join(\n\t\t\t\t', '\n\t\t\t)}`}</p>\n\t\t\t<p>{`${__('Actors', 'movie-library')}: ${actorNames.join(\n\t\t\t\t', '\n\t\t\t)}`}</p>\n\t\t</div>\n\t);\n}\n","import { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { Spinner } from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport MovieSelectorControl from './components/MovieSelectorControl';\nimport SingleMovie from './components/SingleMovie';\n\n/**\n * WordPress Edit component for a movie-related block.\n *\n * This component is responsible for rendering the block in the block editor and\n * handling user interactions in the editing mode.\n *\n * @param {Object}   props               - The properties passed to the Edit component.\n * @param {Object}   props.attributes    - The block attributes.\n * @param {Function} props.setAttributes - A function to set block attributes.\n *\n * @return {JSX.Element} JSX element representing the block in the editor.\n */\nexport function Edit({ attributes, setAttributes }) {\n\t/**\n\t * Sets the movie attribute of the block.\n\t *\n\t * @param {number} val\n\t */\n\tconst setMovie = (val) => setAttributes({ movie: val ?? attributes.movie });\n\n\tconst { movie } = attributes;\n\n\t// Query the posts each time the user selects a filter.\n\tconst { queriedPost, hasPostResolved } = useSelect(\n\t\t(select) => {\n\t\t\t// Set base query params\n\t\t\tconst query = { _embed: true };\n\n\t\t\t// Set language taxonomy query\n\t\t\tif (\n\t\t\t\t!movie ||\n\t\t\t\ttypeof movie !== 'number' ||\n\t\t\t\t!Number.isInteger(movie) ||\n\t\t\t\tmovie <= 0\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\tqueriedPost: {},\n\t\t\t\t\thasPostResolved: true,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst selectorArgs = ['postType', 'mlib-movie', movie, query];\n\n\t\t\treturn {\n\t\t\t\tqueriedPost: select(coreDataStore).getEntityRecord(\n\t\t\t\t\t...selectorArgs\n\t\t\t\t),\n\t\t\t\thasPostResolved: select(coreDataStore).hasFinishedResolution(\n\t\t\t\t\t'getEntityRecord',\n\t\t\t\t\tselectorArgs\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[movie]\n\t);\n\n\treturn (\n\t\t<div {...useBlockProps()}>\n\t\t\t<InspectorControls key=\"movies-block-controls\">\n\t\t\t\t<div className=\"movie-block-controls\">\n\t\t\t\t\t<MovieSelectorControl movie={movie} setMovie={setMovie} />\n\t\t\t\t</div>\n\t\t\t</InspectorControls>\n\t\t\t{hasPostResolved &&\n\t\t\tqueriedPost.title &&\n\t\t\tqueriedPost._embedded &&\n\t\t\tqueriedPost.meta ? (\n\t\t\t\t<SingleMovie\n\t\t\t\t\ttitle={decodeEntities(\n\t\t\t\t\t\tqueriedPost.title\n\t\t\t\t\t\t\t? queriedPost.title.rendered\n\t\t\t\t\t\t\t: 'No movie selected'\n\t\t\t\t\t)}\n\t\t\t\t\tthumbnail={\n\t\t\t\t\t\tqueriedPost._embedded &&\n\t\t\t\t\t\tqueriedPost._embedded['wp:featuredmedia']\n\t\t\t\t\t\t\t? queriedPost._embedded['wp:featuredmedia'][0]\n\t\t\t\t\t\t\t\t\t.source_url\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\treleaseDate={\n\t\t\t\t\t\tqueriedPost.meta['mlib-movie-meta-basic-release-date']\n\t\t\t\t\t}\n\t\t\t\t\tdirectors={queriedPost.meta['mlib-movie-meta-crew-director']}\n\t\t\t\t\tactors={queriedPost.meta['mlib-movie-meta-crew-actor']}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Spinner />\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import { registerBlockType } from '@wordpress/blocks';\nimport metadata from './block.json';\n\nimport './editor.scss';\nimport './style.scss';\nimport { Edit } from './edit';\n\nregisterBlockType(metadata.name, {\n\tedit: Edit,\n});\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"movie-block/index\": 0,\n\t\"movie-block/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmovie_library\"] = self[\"webpackChunkmovie_library\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"movie-block/style-index\"], function() { return __webpack_require__(\"./inc/classes/block-editor/blocks/movie-block/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["store","coreDataStore","useSelect","__","Spinner","ComboboxControl","useState","useEffect","decodeEntities","MovieSelectorControl","movie","setMovie","options","setOptions","filteredOptions","setFilteredOptions","movies","haveMoviesResolved","select","query","per_page","_embed","selectorArgs","getEntityRecords","hasFinishedResolution","movieOptions","map","currMovie","label","title","rendered","value","id","createElement","onChange","onFilterValueChange","inputValue","filter","option","toLowerCase","includes","SingleMovie","thumbnail","releaseDate","directors","actors","directorNames","setDirectorNames","actorNames","setActorNames","directorRecords","haveDirectorsResolved","directorIDs","JSON","parse","error","Array","isArray","include","slice","actorRecords","haveActorsResolved","actorIDs","director","actor","className","src","alt","join","useBlockProps","InspectorControls","Edit","attributes","setAttributes","val","queriedPost","hasPostResolved","Number","isInteger","getEntityRecord","key","_embedded","meta","source_url","registerBlockType","metadata","name","edit"],"sourceRoot":""}